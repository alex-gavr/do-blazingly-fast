---
import makeCommentsForFinanceSurvey from '@config/FinanceComments';
import Comment from './Comment.astro';
import UserInput from './UserInput.astro';

const { commentsData } = Astro.props;

const comments = makeCommentsForFinanceSurvey(commentsData.Comments);
---

<section class='w-full max-w-4xl px-4'>
  <div class='flex flex-row items-center justify-between font-bold'>
    <h1>{commentsData.title}</h1>
    <p class='text-xs'>{commentsData.sortBy}</p>
  </div>
  <hr class='my-3 h-[2px] bg-slate-50' />
  {
    comments.map((comment) => (
      <Comment
        id={comment.id}
        name={comment.name}
        comment={comment.comment}
        likes={comment.likes}
        timeAgo={comment.timeAgo}
        isSubComment={comment.isSubComment}
        likeWord={comment.likeWord}
      />
    ))
  }
  <UserInput userInput={commentsData.UserInput} />
</section>
